1
00:00:00,000 --> 00:00:07,000
Класс, мы уже изучили много потрясающих, очень интересных концепций в операционных системах

2
00:00:07,000 --> 00:00:09,760
и особенно в Linux.

3
00:00:09,760 --> 00:00:13,600
И надеюсь, что к этому моменту вы уже чувствуете себя очень подкованными в этой области.

4
00:00:13,600 --> 00:00:18,600
Однако, чтобы чувствовать себя профи, нам все еще не хватает одного очень важного понятия

5
00:00:18,600 --> 00:00:22,120
в Linux, а именно сетей.

6
00:00:22,120 --> 00:00:24,640
Как работают компьютерные сети?

7
00:00:24,640 --> 00:00:27,420
Как компьютеры подключаются к Интернету?

8
00:00:27,420 --> 00:00:32,460
Что такое IP-адрес, порт, DNS и так далее?

9
00:00:32,460 --> 00:00:37,660
И мы узнаем все это в этой лекции, где я объясню все основные концепции

10
00:00:37,660 --> 00:00:40,300
шаг за шагом с примерами.

11
00:00:40,300 --> 00:00:44,780
Итак, давайте начнем.

12
00:00:44,780 --> 00:00:49,700
Прежде всего, представьте вашу домашнюю сеть или дом, где разные устройства, такие как ваш

13
00:00:49,700 --> 00:00:54,620
компьютер, ноутбук и телефон, подключены к этой сети.

14
00:00:54,620 --> 00:00:59,340
Такая сеть называется LAN или локальная сеть.

15
00:00:59,340 --> 00:01:06,180
То есть LAN - это сеть набора устройств, соединенных вместе в одном физическом месте.

16
00:01:06,180 --> 00:01:12,580
Это может быть маленькая домашняя LAN или LAN огромного офисного здания или

17
00:01:12,580 --> 00:01:15,500
школьного кампуса с сотнями устройств.

18
00:01:15,500 --> 00:01:23,420
И каждое устройство в этой сети идентифицируется уникальным IP-адресом, где IP означает

19
00:01:23,420 --> 00:01:25,060
Internet Protocol.

20
00:01:25,060 --> 00:01:31,340
Так что устройства могут общаться друг с другом в сети, используя этот уникальный IP-адрес.

21
00:01:31,340 --> 00:01:36,460
Например, если ваш компьютер хочет отправить принтеру что-то на печать, он должен знать

22
00:01:36,460 --> 00:01:41,100
IP-адрес принтера и отправить туда информацию.

23
00:01:41,100 --> 00:01:48,180
Вот пример IP-адреса 172.16.0.0.

24
00:01:48,180 --> 00:01:53,820
Итак, IP-адрес - это по сути 32-битное значение.

25
00:01:53,820 --> 00:01:57,620
Один бит по сути равен единице или нулю.

26
00:01:57,620 --> 00:02:02,780
Сейчас нам не нужно вдаваться в детали, но важно знать, что IP-адрес

27
00:02:02,780 --> 00:02:08,700
или адрес IPv4 состоит из 32 бит.

28
00:02:08,700 --> 00:02:12,540
То есть здесь 32 единицы или нули.

29
00:02:12,540 --> 00:02:15,100
А что означают точки между ними?

30
00:02:15,100 --> 00:02:19,580
Каждые восемь бит группируются в октет.

31
00:02:19,580 --> 00:02:26,220
И каждый октет может быть представлен в виде десятичного числа, которое мы, люди, можем прочитать.

32
00:02:26,220 --> 00:02:30,660
Например, этот октет обозначает 172.

33
00:02:30,660 --> 00:02:33,420
Этот - 16 и так далее.

34
00:02:33,420 --> 00:02:43,540
То есть октет из одних нулей, то есть восьми нулей, - это просто ноль, а октет из одних единиц,

35
00:02:43,540 --> 00:02:48,580
то есть восьми единиц, - это число 255.

36
00:02:48,580 --> 00:03:02,580
Это значит, что значение IP-адреса может быть любой комбинацией между 0.0.0.0 и 255.255.255.255.

37
00:03:02,580 --> 00:03:05,300
Вот так устроен IP-адрес.

38
00:03:05,300 --> 00:03:11,940
Но как устройства узнают IP-адреса друг друга или как они могут что-то отправлять друг другу?

39
00:03:11,940 --> 00:03:17,740
Это задача специального устройства в локальной сети, называемого коммутатором.

40
00:03:17,740 --> 00:03:25,060
Коммутатор находится внутри LAN и знает все IP-адреса всех устройств и, соответственно,

41
00:03:25,060 --> 00:03:29,980
помогает им общаться друг с другом внутри этой локальной сети.

42
00:03:29,980 --> 00:03:35,620
Отлично, так что ваш ноутбук может общаться с телефоном или принтером в LAN через коммутатор.

43
00:03:35,620 --> 00:03:41,820
Но что если вы хотите связаться с сервером или каким-то другим устройством, которое не в вашей LAN?

44
00:03:41,820 --> 00:03:46,660
Например, вы хотите открыть сайт Facebook на ноутбуке, значит нужно подключиться и

45
00:03:46,660 --> 00:03:53,580
общаться с сервером Facebook, который явно вне вашей LAN, или вообще любым сайтом,

46
00:03:53,580 --> 00:03:56,660
который размещен на сервере вне вашей LAN.

47
00:03:56,660 --> 00:03:58,420
Поможет ли здесь коммутатор?

48
00:03:58,420 --> 00:03:59,420
Нет.

49
00:03:59,420 --> 00:04:06,140
Для подключения к внешним устройствам в LAN есть другое специальное устройство, называемое маршрутизатором.

50
00:04:06,140 --> 00:04:12,700
Маршрутизатор - это сетевое устройство, которое находится между локальной сетью и внешней сетью

51
00:04:12,700 --> 00:04:17,300
которую также называют глобальной сетью или WAN.

52
00:04:17,300 --> 00:04:23,100
Итак, роутер соединяет устройства в локальной сети и в глобальной сети, что означает,

53
00:04:23,100 --> 00:04:26,060
что роутер подключает вас к интернету.

54
00:04:26,060 --> 00:04:30,700
Возвращаясь к примеру с Facebook: если вы хотите открыть приложение Facebook на телефоне, ваш телефон

55
00:04:30,700 --> 00:04:36,540
отправит запрос роутеру, затем роутер отправит этот запрос на сервер Facebook

56
00:04:36,540 --> 00:04:41,900
через интернет, а IP-адрес роутера называется шлюзом.

57
00:04:41,900 --> 00:04:49,980
Так что, когда вы слышите термин роутер, сетевой шлюз — по сути одно и то же.

58
00:04:49,980 --> 00:04:57,060
Теперь вопрос: когда устройство в LAN отправляет запрос другому устройству, как оно понимает,

59
00:04:57,060 --> 00:05:04,660
находится ли то другое устройство внутри LAN или вне LAN, в глобальной сети?

60
00:05:04,660 --> 00:05:09,340
Это определяется на основе IP-адреса целевого устройства.

61
00:05:09,340 --> 00:05:14,140
Помните, как я сказал, что у каждого устройства в LAN есть уникальный IP-адрес?

62
00:05:14,140 --> 00:05:17,260
Эти IP-адреса не случайны.

63
00:05:17,260 --> 00:05:24,860
Все они относятся к одному диапазону IP-адресов, чтобы идентифицировать устройства в одной сети.

64
00:05:24,860 --> 00:05:33,140
И этот диапазон IP-адресов представлен понятием, называемым подсеть или subnetwork.

65
00:05:33,140 --> 00:05:38,580
Вот так может выглядеть диапазон IP-адресов для LAN.

66
00:05:38,580 --> 00:05:44,860
Первая часть здесь — IP-адрес, и это отправная точка диапазона IP-адресов,

67
00:05:44,860 --> 00:05:50,180
так что это первый IP-адрес в диапазоне, а второй — это то, что называется

68
00:05:50,180 --> 00:05:52,260
маской подсети.

69
00:05:52,260 --> 00:05:59,420
Итак, подсеть по сути задает диапазон и определяет, что любой IP-адрес устройства,

70
00:05:59,420 --> 00:06:13,660
который начинается с 192.168.0, то есть всякий IP-адрес, начинающийся так, принадлежит LAN.

71
00:06:13,660 --> 00:06:28,340
Если мы изменим значение маски подсети с 255.255.255.0 на 255.255.0.0, это определит диапазон IP-адресов,

72
00:06:28,340 --> 00:06:39,380
который начинается с 192.168, так что все IP-адреса, которые начинаются с этих двух чисел,

73
00:06:39,380 --> 00:06:41,340
относятся к той же LAN.

74
00:06:41,340 --> 00:06:52,900
Как видите, значение 255 фиксирует IP-блок или октет, а значение ноль означает

75
00:06:52,900 --> 00:06:54,780
свободный диапазон.

76
00:06:54,780 --> 00:07:04,980
Почему 255.0? Потому что, как вы узнали, каждый десятичный блок IP может иметь значения от нуля до 255.

77
00:07:04,980 --> 00:07:07,660
Так что любое значение в этом диапазоне.

78
00:07:07,660 --> 00:07:15,260
По сути, подсеть определяет, сколько бит в IP-адресе фиксировано, делая остальные

79
00:07:15,260 --> 00:07:17,060
гибкими.

80
00:07:17,060 --> 00:07:27,380
Так, 255.255.0.0 означает, что половина, или 16 бит, фиксированы в IP-адресе, а это, в свою очередь,

81
00:07:27,380 --> 00:07:34,900
означает, что треть всех бит, или 24 бита, фиксированы в IP-адресе.

82
00:07:34,900 --> 00:07:43,820
И снова, когда мы используем это как маску подсети, это означает, что первые три октета

83
00:07:43,820 --> 00:07:51,300
или десятичные значения менять нельзя, верно? Так что IP-адреса этой LAN будут между

84
00:07:51,300 --> 00:08:03,220
192.168.0, так что первые три не могут измениться, они зафиксированы, а последний может меняться

85
00:08:03,220 --> 00:08:06,340
и может доходить до 255.

86
00:08:06,340 --> 00:08:12,700
Так что ваши IP-адреса будут в этих диапазонах, и здесь у нас зафиксирована только половина,

87
00:08:12,700 --> 00:08:24,540
поэтому ваши IP-адреса этой LAN будут от этого IP-адреса до 255.255.

88
00:08:24,540 --> 00:08:31,180
В пределах этого диапазона — вот как это работает, и, как мы сказали, это число маски подсети по сути

89
00:08:31,180 --> 00:08:36,780
определяет, сколько бит в этом 32-битном IP-адресе фиксировано.

90
00:08:36,780 --> 00:08:41,580
Исходя из этой логики, существует краткий способ записывать это, который также

91
00:08:41,580 --> 00:08:45,760
называется CIDR-блок и записывается так.

92
00:08:45,760 --> 00:08:55,300
То есть тот же IP-адрес, что у нас здесь, слэш 16 или слэш 24, где 16 и 24 представляют

93
00:08:55,300 --> 00:09:00,940
количество бит в диапазоне IP-адресов, которые фиксированы.

94
00:09:00,940 --> 00:09:07,900
Итак, кратко: с подсетью и стартовым IP-адресом у нас есть диапазон IP-адресов,

95
00:09:07,900 --> 00:09:10,100
доступных в LAN.

96
00:09:10,100 --> 00:09:17,660
Так что каждое устройство в этой локальной сети получит IP-адрес из этого диапазона.

97
00:09:17,660 --> 00:09:22,780
И когда мы отправляем запрос на IP-адрес внутри нашей LAN, запрос пойдет на

98
00:09:22,780 --> 00:09:26,900
коммутатор, и он перенаправит его на устройство внутри LAN.

99
00:09:26,900 --> 00:09:32,740
Если IP-адрес внешний, он уйдет в интернет через роутер, и это означает,

100
00:09:32,740 --> 00:09:39,300
что любому устройству в вашей сети понадобятся три элемента данных, чтобы общаться с другими устройствами

101
00:09:39,300 --> 00:09:47,260
как внутри собственной сети, так и к устройствам внешних сетей, и это IP-адрес,

102
00:09:47,260 --> 00:09:52,300
подсеть и шлюз.

103
00:09:52,300 --> 00:09:58,940
Мы уже сказали, что внутри локальной сети (LAN) у нас есть диапазон IP-адресов, который сетевой администратор

104
00:09:58,940 --> 00:10:07,380
компании или школы, а если это ваш дом, то ваш интернет-провайдер выбирает, и

105
00:10:07,380 --> 00:10:12,100
каждое устройство получит уникальный IP-адрес из этого диапазона.

106
00:10:12,100 --> 00:10:17,020
И предположим, устройство в нашей LAN общается с устройством в другой LAN.

107
00:10:17,020 --> 00:10:23,300
Как убедиться, что не каждый сетевой администратор выбирает один и тот же диапазон и что

108
00:10:23,300 --> 00:10:30,620
IP-адреса в нашей LAN не пересекаются и не совпадают с чужой LAN?

109
00:10:30,620 --> 00:10:37,820
Работает это так: IP-адреса устройств, принадлежащих LAN, не видны

110
00:10:37,820 --> 00:10:40,820
внешней сети или интернету.

111
00:10:40,820 --> 00:10:45,740
Поэтому когда вы отправляете запрос в Facebook со своего ноутбука, IP-адрес вашего ноутбука из

112
00:10:45,740 --> 00:10:52,260
диапазона LAN не доходит до сервера Facebook, вместо этого он заменяется IP-адресом

113
00:10:52,260 --> 00:10:58,700
роутера, и эта функциональность роутера называется трансляцией сетевых адресов или

114
00:10:58,700 --> 00:10:59,940
NAT.

115
00:10:59,940 --> 00:11:05,180
Итак, когда ноутбук отправляет запрос, он идет к роутеру, потому что роутер — это

116
00:11:05,180 --> 00:11:10,980
подключение к внешней сети, к интернету, и роутер затем запросит это

117
00:11:10,980 --> 00:11:17,460
от имени устройства в интернете, а ответ затем будет отправлен обратно

118
00:11:17,460 --> 00:11:23,340
устройству, и это очень важная концепция, имеющая два основных преимущества.

119
00:11:23,340 --> 00:11:27,740
Одно из них — безопасность и защита устройств в LAN, потому что ваш IP-адрес

120
00:11:27,740 --> 00:11:32,940
не раскрывается напрямую, и никто не может обратиться к нему напрямую, а второе — что

121
00:11:32,940 --> 00:11:40,060
мы можем многократно переиспользовать диапазоны IP-адресов без конфликтов друг с другом.

122
00:11:40,060 --> 00:11:47,180
Так что две огромные компании могут иметь один и тот же диапазон IP-адресов в своей

123
00:11:47,180 --> 00:11:52,460
локальной сети, и они, по сути, не будут знать друг о друге, поэтому не будет конфликта, и

124
00:11:52,460 --> 00:11:59,420
это очень эффективно, потому что количество IP-адресов, которые вы получаете из

125
00:11:59,420 --> 00:12:07,140
диапазона IPv4, ограничено, это, как мы видели, четыре нуля и четыре двести пятьдесят пять,

126
00:12:07,260 --> 00:12:12,180
и да, между ними много комбинаций, однако есть также очень много

127
00:12:12,180 --> 00:12:19,100
устройств в мире, которым нужны IP-адреса.

128
00:12:19,100 --> 00:12:23,340
А что если внешнее устройство хочет напрямую связаться с вашей LAN?

129
00:12:23,340 --> 00:12:28,380
Например, у вас есть сервер, на котором работает ваше приложение, и вы хотите принимать запросы

130
00:12:28,380 --> 00:12:31,060
от устройств за пределами вашей LAN.

131
00:12:31,060 --> 00:12:36,780
По умолчанию такая связь не будет разрешена из-за файрвола.

132
00:12:36,780 --> 00:12:38,540
Что такое файрвол?

133
00:12:38,540 --> 00:12:45,380
Файрвол — это набор правил, которые защищают сеть от неавторизованного доступа, и вы можете явно

134
00:12:45,380 --> 00:12:52,260
определить, какое взаимодействие вы хотите разрешить в свою сеть, используя правила файрвола.

135
00:12:52,260 --> 00:12:53,860
Как это работает?

136
00:12:53,860 --> 00:12:59,900
Вы определяете, какое устройство в вашей сети с конкретным IP-адресом должно быть доступно.

137
00:12:59,900 --> 00:13:06,140
Вы также можете определить, какие другие устройства или какие конкретно IP-адреса могут получить доступ

138
00:13:06,140 --> 00:13:11,820
к вашему серверу, или можете сказать: я разрешаю любому устройству в интернете обращаться к моему серверу.

139
00:13:11,820 --> 00:13:15,980
И это обычно так, когда вы запускаете веб-приложение, потому что вы хотите, чтобы все

140
00:13:15,980 --> 00:13:18,540
могли получить доступ к вашему приложению.

141
00:13:18,540 --> 00:13:23,420
Поэтому для большинства серверов, на которых работают приложения, вам нужно настроить правила

142
00:13:23,420 --> 00:13:27,700
файрвола, чтобы управлять конфигурацией доступа.

143
00:13:27,700 --> 00:13:33,660
Есть еще одна важная вещь, которую вы всегда определяете в правиле файрвола, и это

144
00:13:33,660 --> 00:13:40,940
какие порты доступны на сервере или вообще на устройстве, к которому вы хотите

145
00:13:40,940 --> 00:13:42,660
разрешить доступ.

146
00:13:42,660 --> 00:13:47,740
Что такое порт?

147
00:13:47,740 --> 00:13:53,740
У каждого устройства есть набор портов, и порты — как двери в одном здании.

148
00:13:53,740 --> 00:14:01,100
Вы открываете некоторые двери, чтобы гости или запросы могли войти, а другие держите закрытыми, чтобы никто

149
00:14:01,100 --> 00:14:02,700
не мог туда попасть.

150
00:14:02,700 --> 00:14:10,900
Или вы открываете их только для конкретных гостей, например для конкретного IP-адреса, который может войти

151
00:14:10,900 --> 00:14:12,860
так сказать, дверь.

152
00:14:12,860 --> 00:14:19,180
Поэтому в конфигурации брандмауэра вы определяете, какие двери здания или вашего сервера в этом

153
00:14:19,180 --> 00:14:25,500
случае вы хотите открыть и для каких гостей или каких запросов.

154
00:14:25,500 --> 00:14:32,380
И различные приложения и программы, которые работают на сервере, будут запускаться или слушать на

155
00:14:32,380 --> 00:14:38,700
разных портах, то есть получить доступ к этому приложению на устройстве можно только на этом конкретном

156
00:14:38,700 --> 00:14:39,700
порту.

157
00:14:39,700 --> 00:14:46,380
И чтобы все это стандартизировать, для многих приложений существуют порты по умолчанию или стандартные порты.

158
00:14:46,380 --> 00:14:53,660
Например, большинство веб-приложений стартуют на порту 80, так что они доступны на этом порту

159
00:14:53,660 --> 00:14:56,860
из браузера, когда вы запрашиваете приложение.

160
00:14:56,860 --> 00:15:03,580
Это значит, что когда вы набираете facebook.com или google.com в браузере, по умолчанию этот запрос идет

161
00:15:03,580 --> 00:15:09,260
на машину, где приложение Facebook или Google работает на порту 80.

162
00:15:09,260 --> 00:15:17,060
Значит, на этих машинах брандмауэр настроен открыть порт 80 для приема запросов из браузера.

163
00:15:17,060 --> 00:15:23,220
Другие приложения, например базы данных, тоже имеют стандартные порты: база данных MySQL обычно

164
00:15:23,220 --> 00:15:32,620
доступна на порту 3306, PostgreSQL — на 5432 и так далее.

165
00:15:32,620 --> 00:15:39,220
То есть для каждого приложения нужен порт для связи, и каждый порт уникален на устройстве.

166
00:15:39,460 --> 00:15:43,500
Поэтому нельзя иметь два приложения, слушающих один и тот же порт.

167
00:15:43,500 --> 00:15:48,180
Если вы попытаетесь запустить второе приложение на том же порту, вы получите ошибку, которая

168
00:15:48,180 --> 00:15:50,980
сообщит, что порт уже используется.

169
00:15:50,980 --> 00:15:57,580
Таким образом, конфигурация брандмауэра разрешает конкретную комбинацию IP-адреса устройства и порта

170
00:15:57,580 --> 00:15:59,300
для доступа.

171
00:15:59,300 --> 00:16:04,540
Так что брандмауэр — как охранник, стоящий перед зданием, который проверяет и подтверждает

172
00:16:04,540 --> 00:16:06,580
кто может войти через какую дверь.

173
00:16:06,580 --> 00:16:14,300
И эта конфигурация также называется настройкой перенаправления портов.

174
00:16:14,300 --> 00:16:19,660
Теперь, говоря о сетях, есть еще одна концепция, которую важно понять

175
00:16:19,660 --> 00:16:27,380
и, вероятно, то, что вы часто слышали, — это DNS или служба доменных имен.

176
00:16:27,380 --> 00:16:32,260
По сути, на DNS опирается вся сетевая работа.

177
00:16:32,260 --> 00:16:34,740
Давайте посмотрим, что такое DNS на самом деле.

178
00:16:34,740 --> 00:16:41,220
Мы знаем, что каждый компьютер в сети однозначно идентифицируется своим IP-адресом.

179
00:16:41,220 --> 00:16:46,700
И мы видели, что каждое устройство может общаться с другим устройством, используя его IP-адрес.

180
00:16:46,700 --> 00:16:52,500
Но когда вы заходите в приложение Facebook, вы вводите в браузере IP-адрес, или когда

181
00:16:52,500 --> 00:16:57,620
вы посещаете другой сайт, вы никогда не вводите просто IP-адрес, верно?

182
00:16:57,620 --> 00:16:58,820
Почему так?

183
00:16:58,820 --> 00:17:07,140
Потому что приложение Facebook.com работает на многих компьютерах, и у каждого свой IP-адрес.

184
00:17:07,140 --> 00:17:12,220
Сайт вашего любимого местного ресторана доступен на конкретном компьютере с

185
00:17:12,220 --> 00:17:13,580
IP-адресом.

186
00:17:13,580 --> 00:17:21,060
То есть каждое приложение, работающее на машине, доступно по IP-адресу.

187
00:17:21,060 --> 00:17:26,340
Так почему же мы используем названия приложений вместо IP-адресов?

188
00:17:26,340 --> 00:17:28,880
Просто потому, что мы не компьютеры.

189
00:17:28,880 --> 00:17:33,140
Люди лучше запоминают слова и названия, чем IP-адреса и числа.

190
00:17:33,140 --> 00:17:40,060
Поэтому, чтобы упростить людям использование интернета, была введена концепция сопоставления IP-адресов с

191
00:17:40,060 --> 00:17:42,440
именами.

192
00:17:42,440 --> 00:17:45,940
Так что мы обращаемся к каждому приложению, набирая его имя.

193
00:17:45,940 --> 00:17:52,420
Но сеть, как мы видели, не понимает имена, она понимает числа и IP-адреса.

194
00:17:52,420 --> 00:18:00,100
Поэтому под капотом это имя переводится в фактический IP-адрес, где это приложение

195
00:18:00,100 --> 00:18:04,100
работает, на который ваш компьютер может отправить запрос.

196
00:18:04,100 --> 00:18:07,960
И служба, которая делает этот перевод, — это DNS.

197
00:18:07,960 --> 00:18:13,020
Используя DNS, мы можем дать уникальное имя любому IP-адресу.

198
00:18:13,020 --> 00:18:18,300
Поэтому DNS можно представить как адресную книгу или желтые страницы интернета.

199
00:18:18,300 --> 00:18:23,220
Но учитывая, что в мире так много веб-сайтов и приложений и появляются новые

200
00:18:23,220 --> 00:18:28,900
которые ежедневно добавляются, и так много серверов в мире подключено к интернету.

201
00:18:28,900 --> 00:18:32,820
Как DNS управляет таким количеством адресов и их имен?

202
00:18:32,820 --> 00:18:39,260
DNS использует простую политику разделения всех этих имен на разные домены или группы.

203
00:18:39,260 --> 00:18:42,340
Основные имена следуют иерархической структуре.

204
00:18:42,340 --> 00:18:50,380
По всему миру существует около 13 корневых доменов с именами от A до M, и под каждым

205
00:18:50,380 --> 00:18:56,460
корневым доменом есть иерархия так называемых доменов верхнего уровня или TLD.

206
00:18:56,460 --> 00:19:02,020
Есть шесть исходных и самых распространенных доменов верхнего уровня, и у каждого домена есть конкретная

207
00:19:02,020 --> 00:19:03,540
цель.

208
00:19:03,540 --> 00:19:08,300
Есть .mil, который предназначен для военных приложений.

209
00:19:08,300 --> 00:19:11,860
Затем у нас есть .edu или EDU.

210
00:19:11,860 --> 00:19:15,900
Он предназначен для образовательных учреждений и их сайтов.

211
00:19:15,900 --> 00:19:21,500
Далее у нас .com, который более универсален и обычно используется бизнесом, потому что .com

212
00:19:21,500 --> 00:19:23,460
означает commercial.

213
00:19:23,460 --> 00:19:28,860
Затем .org, который обычно предназначен для некоммерческих организаций.

214
00:19:28,860 --> 00:19:31,260
Следующий — .net.

215
00:19:31,260 --> 00:19:36,820
Изначально для сетевых технологий, таких как интернет-провайдеры или другие инфраструктурные

216
00:19:36,820 --> 00:19:38,500
компании-провайдеры.

217
00:19:38,500 --> 00:19:44,020
Но сегодня он более общего назначения и может использоваться любыми видами бизнеса.

218
00:19:44,020 --> 00:19:47,620
И наконец есть .gov, который предназначен для государственных учреждений.

219
00:19:47,620 --> 00:19:53,300
Помимо этих исходных доменов верхнего уровня, есть географические домены, которые были

220
00:19:53,300 --> 00:19:54,900
добавлены позже.

221
00:19:54,900 --> 00:19:57,420
Это домены для каждой страны.

222
00:19:57,420 --> 00:20:02,340
Они также используются, чтобы регулировать доменные имена компаний, зарегистрированных в этой

223
00:20:02,340 --> 00:20:03,340
стране.

224
00:20:03,340 --> 00:20:12,260
Например, .de для Германии, .us для США, .uk, .fr для Франции и т.д.

225
00:20:12,260 --> 00:20:17,540
Это имеет смысл, если ваш сайт на местном языке и ваши посетители — местные

226
00:20:17,540 --> 00:20:22,780
из этой страны, например местные рестораны, магазины и т.д.

227
00:20:22,780 --> 00:20:29,580
И наконец был добавлен ряд других доменов, таких как .bis, .int, .dev и т.д.

228
00:20:29,580 --> 00:20:34,980
То есть когда кто-то создает сайт, он может купить доменное имя, которое принадлежит

229
00:20:34,980 --> 00:20:42,660
одному из этих доменов, например mywebsite.com или mywebsite.uk, и вы можете купить его на год

230
00:20:42,660 --> 00:20:46,340
и если он вам больше не нужен, кто-то другой позже может купить это доменное имя.

231
00:20:46,340 --> 00:20:51,980
Кто же фактически управляет этими именами, кто может продавать вам эти доменные имена или вести

232
00:20:51,980 --> 00:20:58,020
учет того, какие уже заняты, а какие все еще доступны?

233
00:20:58,020 --> 00:21:01,700
Или кто решает, как эти домены сгруппированы или разделены?

234
00:21:01,700 --> 00:21:07,860
Все это регулируется специализированной организацией под названием Интернет-корпорация

235
00:21:07,860 --> 00:21:17,380
по присвоенным именам и номерам (ICANN), которая по сути управляет всем этим пространством доменных имен

236
00:21:17,380 --> 00:21:23,740
и также авторизует регистраторов доменных имен, через которых домены можно регистрировать

237
00:21:23,740 --> 00:21:25,220
и перерегистрировать.

238
00:21:25,220 --> 00:21:30,500
Очевидно, вам не нужно запоминать название этой организации, но, думаю, интересно знать,

239
00:21:30,500 --> 00:21:35,020
что существует отдельная организация, которая управляет всеми

240
00:21:35,020 --> 00:21:36,540
этими доменными именами.

241
00:21:36,540 --> 00:21:43,460
Как я уже сказал, каждое доменное имя принадлежит этому корню и одному из его доменов верхнего уровня

242
00:21:43,460 --> 00:21:45,380
или географических доменов.

243
00:21:45,380 --> 00:21:51,100
Теперь предположим, я хочу создать свой сайт, чтобы люди могли его посещать, например TechWorld with

244
00:21:51,100 --> 00:21:52,820
- сайт TechWorld with NANA.

245
00:21:52,820 --> 00:21:58,180
Я просто выбираю домен верхнего уровня, который хочу, в моем случае .com, и создаю

246
00:21:58,180 --> 00:22:01,420
домен для TechWorld with NANA dot com.

247
00:22:01,420 --> 00:22:05,940
Теперь допустим, у меня есть три сервера с тремя разными приложениями, которые все принадлежат

248
00:22:05,940 --> 00:22:06,940
моей компании.

249
00:22:06,940 --> 00:22:10,060
Значит, они находятся в домене TechWorld with NANA dot com.

250
00:22:10,060 --> 00:22:17,540
Я могу назначить каждому свое доменное имя, используя концепцию поддоменов, например bootcamp

251
00:22:17,540 --> 00:22:23,340
точка TechWorld with NANA точка com или workshops точка TechWorld with NANA точка com и затем courses

252
00:22:23,340 --> 00:22:25,820
точка TechWorld with NANA точка com.

253
00:22:25,820 --> 00:22:32,140
И многие компании и организации действительно используют эти субдомены для разных

254
00:22:32,140 --> 00:22:35,260
приложений, которые все принадлежат этой организации.

255
00:22:35,260 --> 00:22:42,260
Поэтому каждое приложение может работать на собственном выделенном сервере, и каждый сервер со своим IP

256
00:22:42,260 --> 00:22:47,740
адресом теперь будет иметь полное доменное имя, через которое к нему можно обратиться.

257
00:22:47,740 --> 00:22:52,900
Есть также полное доменное имя, которое будет courses точка TechWorld with NANA

258
00:22:52,900 --> 00:22:57,820
точка com точка, где точка в конце обозначает корневой домен.

259
00:22:57,820 --> 00:23:02,580
Но мы не используем полностью квалифицированные доменные имена, оно работает и без точки в конце так

260
00:23:02,580 --> 00:23:03,580
же.

261
00:23:03,580 --> 00:23:08,820
Отлично, мы понимаем, что такое DNS, но как ваш компьютер на самом деле использует службу DNS

262
00:23:08,820 --> 00:23:11,660
для сопоставления доменного имени с IP-адресом?

263
00:23:11,660 --> 00:23:17,660
На вашем компьютере предустановлен клиент DNS, поэтому когда вы открываете браузер и вводите Facebook

264
00:23:17,660 --> 00:23:24,140
точка com, ваша операционная система сделает DNS-запрос, попросив DNS разрешить этот адрес Facebook

265
00:23:24,140 --> 00:23:29,660
точка com или найти IP-адрес, который соответствует Facebook точка com.

266
00:23:29,660 --> 00:23:35,340
Запрос DNS сначала идет на рекурсивный сервер имен, который обычно управляется

267
00:23:35,340 --> 00:23:40,660
вашим интернет-провайдером, и ваш рекурсивный сервер имен может уже иметь IP-адрес

268
00:23:40,660 --> 00:23:48,620
сохраненный, но если нет, он обратится к одному из 13 корневых серверов, которые обрабатывают запросы

269
00:23:48,620 --> 00:23:50,940
для доменов верхнего уровня.

270
00:23:50,940 --> 00:23:56,980
Эти корневые серверы избыточно доступны по всему миру, чтобы вы получили ответ

271
00:23:56,980 --> 00:23:57,980
быстро.

272
00:23:57,980 --> 00:24:04,020
Корневой сервер посмотрит на адрес и увидит точку com, и отправит ответ обратно

273
00:24:04,020 --> 00:24:09,100
резолверу со словами: я не знаю адрес Facebook точка com, но вот

274
00:24:09,100 --> 00:24:13,740
адрес доменного сервера зоны точка com, у которого можно спросить.

275
00:24:13,740 --> 00:24:19,500
Затем резолвер спрашивает у сервера точка com: эй, можешь дать мне IP-адрес facebook

276
00:24:19,500 --> 00:24:20,780
точка com?

277
00:24:20,780 --> 00:24:26,420
Сервер точка com отправляет ответ: я не знаю IP-адрес facebook точка com, но

278
00:24:26,420 --> 00:24:33,940
вот список IP-адресов авторитетных серверов имен для домена точка com.

279
00:24:33,940 --> 00:24:36,980
Они знают IP-адрес facebook точка com.

280
00:24:36,980 --> 00:24:43,540
Наконец резолвер выбирает IP-адрес одного из авторитетных серверов имен

281
00:24:43,540 --> 00:24:48,580
из списка и спрашивает IP-адрес facebook точка com.

282
00:24:48,580 --> 00:24:54,100
И на этот раз сервер имен отвечает фактическим IP-адресом facebook точка com.

283
00:24:54,100 --> 00:24:58,820
Теперь ваш компьютер может отправить запрос на IP-адрес facebook.

284
00:24:58,820 --> 00:25:03,700
Теперь представьте, что этот процесс происходит каждый раз, когда вы впервые посещаете сайт, но

285
00:25:03,700 --> 00:25:09,500
чтобы сэкономить время в будущем и сделать все эффективнее, и рекурсивный сервер имен

286
00:25:09,500 --> 00:25:16,260
и ваш компьютер будут некоторое время кешировать записи DNS, чтобы в следующий раз, когда вы захотите

287
00:25:16,260 --> 00:25:23,500
посетить тот же адрес, не пришлось проходить весь этот процесс.

288
00:25:23,500 --> 00:25:29,260
Теперь вы знаете все основы сетей, и если хотите увидеть сетевую

289
00:25:29,260 --> 00:25:35,820
информацию на своем компьютере, есть разные полезные программы или команды для этого.

290
00:25:35,820 --> 00:25:42,500
Например, командой ifconfig вы можете получить IP-адрес компьютера, маску подсети,

291
00:25:42,500 --> 00:25:48,100
адрес шлюза, который снова является IP-адресом маршрутизатора, и кучу другой информации

292
00:25:48,100 --> 00:25:49,600
о вашей сети.

293
00:25:49,600 --> 00:25:55,180
Есть также очень полезная команда под названием netstat, которая показывает, какие активные соединения

294
00:25:55,180 --> 00:25:57,660
у вас есть на машине.

295
00:25:57,660 --> 00:26:03,740
Активное соединение означает, какие приложения активно слушают на своих конкретных портах.

296
00:26:03,740 --> 00:26:08,980
Типичный случай: какое-то приложение на сервере недоступно, и вы

297
00:26:08,980 --> 00:26:14,260
получаете ошибку connection refused; например, вы можете проверить этой командой,

298
00:26:14,260 --> 00:26:20,140
работает ли приложение активно и на каком порту оно слушает.

299
00:26:20,140 --> 00:26:25,980
Вы также можете проверить текущие запущенные процессы и программы и их информацию, включая,

300
00:26:25,980 --> 00:26:32,260
на каких портах они работают, а также сколько компьютерных ресурсов они потребляют

301
00:26:32,260 --> 00:26:35,620
используя команду psox.

302
00:26:35,620 --> 00:26:41,120
Используя команду nslookup, вы можете получить IP-адрес любого доменного имени.

303
00:26:41,120 --> 00:26:46,820
Эта команда также отображает IP-адрес DNS-сервера, который использует ваш компьютер, или вы можете

304
00:26:46,820 --> 00:26:54,460
также сделать обратную проверку командой nslookup, чтобы показать, какое основное имя привязано к

305
00:26:54,540 --> 00:27:00,860
конкретному IP-адресу, и, наконец, очень простая команда ping, которая по сути

306
00:27:00,860 --> 00:27:05,260
проверяет, доступен ли сервис или приложение.

307
00:27:05,260 --> 00:27:11,540
Итак, вы подключаетесь или отправляете ping на IP-адрес или основное имя приложения, и это показывает

308
00:27:11,540 --> 00:27:14,620
вам, доступен ли этот адрес или нет.

309
00:27:14,620 --> 00:27:18,540
Вы можете использовать все эти команды, чтобы в целом устранять неполадки сети, когда что-то

310
00:27:18,540 --> 00:27:24,420
не работает, а также использовать ключи или разные параметры для всех этих команд

311
00:27:24,420 --> 00:27:31,100
чтобы расширить возможности команд и выводить больше информации или выводить информацию в

312
00:27:31,100 --> 00:27:32,980
другом формате, например.

313
00:27:32,980 --> 00:27:40,260
Для этого вы можете обратиться к документации по всем этим командам.

314
00:27:40,260 --> 00:27:45,580
Так что, будучи инженером DevOps, вам, конечно, не нужно быть экспертом по сетям, но с

315
00:27:45,580 --> 00:27:51,180
этими базовыми знаниями вы будете понимать многие вещи гораздо лучше в своих DevOps

316
00:27:51,180 --> 00:27:55,540
задачах, и это значительно упростит ваш путь обучения.

317
00:27:55,540 --> 00:28:01,740
И мы будем использовать некоторые из этих команд и многие из этих концепций на протяжении буткемпа

318
00:28:01,740 --> 00:28:05,140
так что вы увидите реальные примеры их применения.

