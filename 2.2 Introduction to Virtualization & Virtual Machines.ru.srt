1
00:00:00,000 --> 00:00:08,000
В этой лекции мы познакомимся с очень важной концепцией в мире IT — виртуализацией.

2
00:00:08,000 --> 00:00:16,000
Мы разберёмся, что такое виртуальные машины, почему они так полезны, и изучим основные концепции виртуализации.

3
00:00:16,000 --> 00:00:22,000
После того как мы поймём, как работают виртуальные машины, мы перейдём к практике в демонстрационной части,

4
00:00:22,000 --> 00:00:30,000
создав виртуальную машину Linux на нашем компьютере с помощью популярного open source-программного обеспечения под названием VirtualBox,

5
00:00:30,000 --> 00:00:34,000
что на самом деле очень легко сделать, так что давайте начнём.

6
00:00:34,000 --> 00:00:37,000
Что такое виртуальная машина?

7
00:00:37,000 --> 00:00:44,000
Представьте, что у вас есть компьютер с Windows, и, как мы уже узнали, компьютер имеет аппаратные ресурсы, такие как CPU, RAM и хранилище данных.

8
00:00:44,000 --> 00:00:53,000
Поверх этого у вас установлена операционная система Windows, которая управляет тем, как приложения используют эти аппаратные ресурсы,

9
00:00:53,000 --> 00:00:59,000
а поверх операционной системы Windows находятся приложения, которые взаимодействуют с Windows.

10
00:00:59,000 --> 00:01:01,000
То есть здесь всё работает отлично.

11
00:01:01,000 --> 00:01:04,000
А теперь что, если вы захотите использовать Linux?

12
00:01:04,000 --> 00:01:09,000
Возможно, для работы или просто чтобы изучить новую операционную систему.

13
00:01:09,000 --> 00:01:16,000
Для этого вам понадобится машина с аппаратными ресурсами и установленной поверх них операционной системой Linux,

14
00:01:16,000 --> 00:01:21,000
после чего вы сможете запускать приложения в этой операционной системе Linux.

15
00:01:21,000 --> 00:01:28,000
То есть, по сути, вам понадобился бы ещё один компьютер или ноутбук, на который вы установили бы Linux.

16
00:01:28,000 --> 00:01:38,000
Так вот, виртуализация — это концепция, при которой вам не нужно отдельное физическое оборудование или отдельный физический компьютер для установки операционной системы.

17
00:01:38,000 --> 00:01:45,000
Вы можете установить операционную систему Linux поверх Windows или наоборот.

18
00:01:45,000 --> 00:01:50,000
Вы можете установить Windows поверх Linux или запускать Windows и Linux на Mac OS.

19
00:01:50,000 --> 00:01:52,000
В общем, возможны любые комбинации.

20
00:01:52,000 --> 00:01:56,000
Вы даже можете запускать Windows поверх Windows или Linux поверх Linux.

21
00:01:56,000 --> 00:02:00,000
И добиться этого можно с помощью технологии, которая называется гипервизор.

22
00:02:00,000 --> 00:02:12,000
Гипервизор — это технология, которая позволяет размещать несколько виртуальных компьютеров на одном физическом компьютере поверх уже установленной операционной системы.

23
00:02:12,000 --> 00:02:18,000
И одним из самых популярных гипервизоров является VirtualBox от Oracle.

24
00:02:18,000 --> 00:02:26,000
И одна из главных причин его популярности заключается в том, что он является open source, а также в том, что VirtualBox работает на всех операционных системах.

25
00:02:26,000 --> 00:02:28,000
Кроме того, им довольно легко пользоваться.

26
00:02:28,000 --> 00:02:36,000
VirtualBox позволяет вам создать виртуальный компьютер на вашем компьютере с Windows, обратившись к операционной системе Windows.

27
00:02:36,000 --> 00:02:48,000
Мол, можно ли взять часть управляемых тобой аппаратных ресурсов, чтобы создать виртуальный CPU, виртуальную RAM и виртуальное хранилище для моего виртуального компьютера?

28
00:02:48,000 --> 00:02:58,000
И, как я уже сказала, вы можете иметь несколько виртуальных машин, работающих на вашем компьютере через гипервизор.

29
00:02:58,000 --> 00:03:06,000
Обратите внимание, что вы можете выделить виртуальному компьютеру только те аппаратные ресурсы, которые реально доступны на этом компьютере.

30
00:03:06,000 --> 00:03:19,000
Если у вас есть 8 гигабайт оперативной памяти, Windows использует 4 гигабайта, и вы отдаёте виртуальной машине ещё 4 гигабайта, то у вас больше не остаётся RAM для создания ещё одной виртуальной машины.

31
00:03:19,000 --> 00:03:21,000
Соответственно, вы не сможете создать ещё одну.

32
00:03:21,000 --> 00:03:29,000
По сути, вы просто распределяете аппаратные ресурсы одного компьютера между несколькими виртуальными машинами.

33
00:03:29,000 --> 00:03:40,000
Это означает, что имея один компьютер с одной операционной системой и используя гипервизор вроде VirtualBox, вы можете устанавливать поверх него другие операционные системы.

34
00:03:40,000 --> 00:03:46,000
При этом виртуальные машины не видят друг друга и полностью изолированы.

35
00:03:46,000 --> 00:03:52,000
Сама виртуальная машина считает, что она является отдельным, независимым компьютером.

36
00:03:52,000 --> 00:03:55,000
Она думает, что она единственная, кто работает на этом компьютере.

37
00:03:55,000 --> 00:03:57,000
Она даже не знает, что является виртуальной машиной.

38
00:03:57,000 --> 00:04:02,000
И она не знает, что размещена поверх другой операционной системы.

39
00:04:02,000 --> 00:04:16,000
И такая изоляция на самом деле очень полезна, потому что если с виртуальной машиной что-то случится, что-то сломается внутри неё или кто-то взломает её, это никак не повлияет на основную операционную систему.

40
00:04:16,000 --> 00:04:22,000
Основная ОС, скорее всего, даже не узнает, что у виртуальной машины есть какие-то проблемы, и ей всё равно.

41
00:04:22,000 --> 00:04:29,000
В таком случае вы можете просто удалить эту виртуальную машину и очень легко создать новую, с нуля.

42
00:04:29,000 --> 00:04:32,000
Теперь вы, вероятно, задаётесь вопросом: а для чего это вообще нужно?

43
00:04:32,000 --> 00:04:40,000
В чём польза или преимущества наличия гипервизора и виртуальных машин на вашем компьютере?

44
00:04:40,000 --> 00:04:44,000
Прежде всего, это отличный способ изучать новые операционные системы.

45
00:04:44,000 --> 00:04:49,000
Теперь вам не нужно покупать новый компьютер и устанавливать на него Linux.

46
00:04:49,000 --> 00:04:53,000
Вы можете просто запустить его на своём компьютере с Windows, если хотите.

47
00:04:53,000 --> 00:05:02,000
Возможно, вы хотите просто поэкспериментировать и поиграться с операционной системой, но при этом не хотите разрушить или поставить под угрозу вашу основную операционную систему.

48
00:05:02,000 --> 00:05:06,000
В таком случае вы можете быстро развернуть виртуальную машину.

49
00:05:06,000 --> 00:05:09,000
Вы можете поэкспериментировать с ней и делать всё, что захотите.

50
00:05:09,000 --> 00:05:12,000
А когда закончите, вы просто можете удалить её.

51
00:05:12,000 --> 00:05:21,000
Ещё один отличный сценарий использования виртуальных машин — это тестирование приложений, например веб-приложений, которые вы разрабатываете.

52
00:05:21,000 --> 00:05:27,000
Возможно, вы хотите посмотреть, как они работают и как выглядят в разных операционных системах и разных браузерах.

53
00:05:27,000 --> 00:05:36,000
Например, вы разрабатываете приложение на ноутбуке с Mac OS и хотите посмотреть, как оно работает на машине с Linux в браузере Firefox.

54
00:05:36,000 --> 00:05:43,000
И также вы можете захотеть увидеть, как ваше приложение запускается на Windows в браузере Internet Explorer.

55
00:05:43,000 --> 00:05:50,000
Таким образом, вы можете создать виртуальные машины для обеих этих комбинаций и протестировать своё приложение в них.

56
00:05:50,000 --> 00:05:56,000
А когда закончите, вы можете просто удалить их.

57
00:05:56,000 --> 00:06:11,000
И такой тип гипервизора, который я только что описала, то есть создание виртуальных машин поверх уже существующей операционной системы, называется гипервизором второго типа (type 2).

58
00:06:11,000 --> 00:06:18,000
У вас есть хостовая операционная система или основная операционная система, которая уже установлена на аппаратное обеспечение вашего компьютера.

59
00:06:18,000 --> 00:06:22,000
Поверх этой операционной системы вы устанавливаете гипервизор, например VirtualBox.

60
00:06:22,000 --> 00:06:31,000
То есть на Windows вы устанавливаете VirtualBox, а затем с его помощью можете устанавливать гостевые операционные системы.

61
00:06:31,000 --> 00:06:39,000
И гостевые операционные системы, как я уже говорила, будут заимствовать аппаратные ресурсы у хостовой операционной системы.

62
00:06:39,000 --> 00:06:48,000
Гипервизоры второго типа обычно используются на персональных компьютерах для тех сценариев, которые я только что описала.

63
00:06:48,000 --> 00:07:01,000
Однако для крупных серверов, которые используют компании, существует второй тип гипервизора — гипервизор первого типа (type 1), который по сути работает очень похожим образом.

64
00:07:01,000 --> 00:07:11,000
Основное отличие здесь в том, что вместо установки гипервизора поверх хостовой операционной системы, вы устанавливаете его напрямую на аппаратное обеспечение.

65
00:07:11,000 --> 00:07:17,000
Именно поэтому гипервизоры первого типа также называют bare metal-гипервизорами.

66
00:07:17,000 --> 00:07:26,000
В этом случае гипервизор сам управляет аппаратными ресурсами, вместо того чтобы обращаться к хостовой операционной системе с запросом на выделение ресурсов для виртуальных машин.

67
00:07:26,000 --> 00:07:31,000
Он работает напрямую поверх аппаратного обеспечения и контролирует всё.

68
00:07:31,000 --> 00:07:41,000
Некоторые популярные примеры гипервизоров первого типа — это VMware ESXi или Microsoft Hyper-V.

69
00:07:41,000 --> 00:07:48,000
И после установки концепция, по сути, остаётся такой же, как и у гипервизоров второго типа.

70
00:07:48,000 --> 00:07:52,000
Вы просто устанавливаете любые операционные системы поверх него.

71
00:07:52,000 --> 00:07:58,000
То есть для больших серверов у вас есть один физический сервер с установленным bare metal-гипервизором.

72
00:07:58,000 --> 00:08:06,000
А затем на этом гипервизоре работает несколько виртуальных машин, которые совместно используют одни и те же аппаратные ресурсы.

73
00:08:06,000 --> 00:08:18,000
И именно гипервизоры первого типа в основном используются крупными компаниями и большими облачными платформами для создания и запуска всей их инфраструктуры.

74
00:08:18,000 --> 00:08:29,000
Поэтому, когда вы создаёте серверный инстанс на облачной платформе вроде AWS, DigitalOcean, Google Cloud или любой другой, вы на самом деле создаёте виртуальные машины на физическом сервере.

75
00:08:29,000 --> 00:08:37,000
И другие пользователи, которые создают свои инстансы, могут получить виртуальные машины на том же самом физическом сервере, что и ваша виртуальная машина.

76
00:08:37,000 --> 00:08:42,000
Но, как я уже говорила, эти виртуальные машины полностью изолированы и ничего не знают друг о друге.

77
00:08:42,000 --> 00:08:55,000
Поэтому, если что-то произойдёт в одной виртуальной машине, если кого-то взломают и его VM находится на том же физическом сервере, вы даже не узнаете об этом, потому что каждая VM работает в своей изолированной среде, верно?

78
00:08:55,000 --> 00:09:02,000
Они не разделяют сеть, не разделяют ресурсы и вообще ничего не разделяют — они полностью независимы друг от друга.

79
00:09:02,000 --> 00:09:12,000
Я привела вам несколько примеров того, почему гипервизоры второго типа, или, как их ещё называют, hosted-гипервизоры, полезны для использования на персональных компьютерах.

80
00:09:12,000 --> 00:09:17,000
Но какие сценарии использования есть у гипервизоров первого типа?

81
00:09:17,000 --> 00:09:28,000
В чём, по сути, заключается главное преимущество того, что компании используют виртуализацию в своей серверной инфраструктуре?

82
00:09:28,000 --> 00:09:40,000
Одним из главных преимуществ использования виртуализации и размещения нескольких виртуальных машин на одном физическом сервере является эффективное использование аппаратных ресурсов.

83
00:09:40,000 --> 00:10:02,000
Поскольку теперь у вас могут быть мощные крупные серверы в облаке, и облачный провайдер может позволить пользователям собирать любые комбинации ресурсов для своих инстансов, выбирая, сколько CPU, сколько RAM и сколько хранилища им нужно.

84
00:10:02,000 --> 00:10:12,000
Таким образом, у них появляется гибкость в выборе размера инстансов, потому что всё виртуализировано — и оперативная память, и CPU, и хранилище.

85
00:10:12,000 --> 00:10:17,000
Все эти ресурсы являются виртуальными, и это даёт очень большую гибкость.

86
00:10:17,000 --> 00:10:29,000
В результате облачные провайдеры могут максимально использовать физические ресурсы своих серверов, разделяя их на небольшие части, которые затем используются виртуальными машинами.

87
00:10:29,000 --> 00:10:40,000
Есть ещё одно очень важное преимущество и, по сути, трансформация, которая произошла в IT-индустрии благодаря виртуализации.

88
00:10:40,000 --> 00:10:49,000
И заключается она в абстрагировании операционной системы, работающей на оборудовании, от самого аппаратного обеспечения.

89
00:10:49,000 --> 00:10:53,000
И эта абстракция на самом деле имеет огромное значение. Давайте разберёмся почему.

90
00:10:53,000 --> 00:11:15,000
До появления виртуализации, когда у компании был сервер, например собственный сервер баз данных или сервер, на котором работал Jenkins, компания управляла им самостоятельно: устанавливала операционную систему напрямую на оборудование, а затем устанавливала приложения поверх этой ОС, например настраивала Jenkins или устанавливала систему управления базами данных.

91
00:11:15,000 --> 00:11:27,000
И когда операционная система устанавливается напрямую на аппаратное обеспечение без слоя гипервизора между ними, она становится жёстко привязана к этому оборудованию.

92
00:11:27,000 --> 00:11:42,000
Это означало, что если аппаратный компонент выходил из строя — например, жёсткий диск ломался или выходила из строя материнская плата — и вы не могли заменить этот компонент, потому что сервер был старым или нужной детали больше не было,

93
00:11:42,000 --> 00:11:55,000
или по любой другой причине ремонт был невозможен, это означало, что весь компьютер становился бесполезным, а операционная система, все установленные и настроенные приложения и все данные оказывались потерянными.

94
00:11:55,000 --> 00:12:05,000
Таким образом, зависимость от одного физического сервера означала единую точку отказа и, соответственно, высокий риск потери всех сервисов, работающих на этой машине.

95
00:12:05,000 --> 00:12:16,000
При использовании виртуализации, напротив, у вас есть операционная система в виде переносимого файла, который можно перемещать, и такие файлы называются образами виртуальных машин.

96
00:12:16,000 --> 00:12:30,000
Этот переносимый файл содержит операционную систему, все приложения — браузеры, редакторы, Jenkins и любые другие программы, которые вы обычно устанавливаете в ОС,

97
00:12:30,000 --> 00:12:38,000
все конфигурации, файлы, изображения, документы — по сути, абсолютно всё находится внутри этого переносимого файла.

98
00:12:38,000 --> 00:12:51,000
А поскольку это файл, такой же, как изображение или текстовый документ, вы можете делать его копии и создавать резервные копии, что невероятно удобно и особенно важно для компаний.

99
00:12:51,000 --> 00:13:07,000
Это означает, что вы можете взять всю операционную систему сервера Jenkins и упаковать её в переносимый образ, внутри которого будут все настройки Jenkins, все плагины и все данные — ровно в том виде, в каком вы их настроили.

100
00:13:07,000 --> 00:13:16,000
И вы можете делать резервные копии этого образа, которые называются снапшотами, то есть снимками образа операционной системы.

101
00:13:16,000 --> 00:13:27,000
Теперь, если что-то случится с этим виртуальным образом, на котором работает Jenkins — вы испортите конфигурацию, кто-то его взломает или выйдет из строя оборудование —

102
00:13:27,000 --> 00:13:36,000
вы можете просто взять этот снапшот, этот образ операционной системы, и запустить его на другом компьютере, где установлен гипервизор.

103
00:13:36,000 --> 00:13:46,000
Таким образом, упаковывая операционную систему и прикладной уровень в переносимый файл, вы можете очень легко защитить свои приложения и свою работу.

104
00:13:46,000 --> 00:13:53,000
И вы можете переносить их между машинами, не будучи привязанными к какому-либо конкретному физическому серверу.

105
00:13:53,000 --> 00:14:01,000
Виртуальные машины и концепция виртуализации в целом являются очень мощными, и именно поэтому вы видите их повсюду в IT.

106
00:14:01,000 --> 00:14:10,000
Они полностью изменили то, как мы работаем, поэтому, хотите ли вы стать cloud-инженером, системным администратором, разработчиком программного обеспечения или DevOps-инженером,

107
00:14:10,000 --> 00:14:17,000
вам необходимо понимать виртуализацию, потому что вы будете с ней работать и будете работать с виртуальными машинами.

108
00:14:17,000 --> 00:14:24,000
Навык, который вы здесь освоите, будет полезен вне зависимости от того, какую работу вы выполняете в сфере IT.