1
00:00:00,000 --> 00:00:08,400
В этом видео мы поговорим о контроле версий и зачем он нужен.

2
00:00:08,400 --> 00:00:12,120
Допустим, типичный пример: вы работаете над проектом в команде.

3
00:00:12,120 --> 00:00:17,360
Это может быть стартап или, например, крупный проект в Google, или в другой большой компании.

4
00:00:17,360 --> 00:00:22,240
Скажем, пять разработчиков работают над одним и тем же кодом приложения.

5
00:00:22,240 --> 00:00:29,040
Ты делаешь фронтенд, Стив, другой разработчик в команде, пишет бэкенд, а Эмили занимается

6
00:00:29,040 --> 00:00:33,760
подключением к базе данных, они добавляют код и так далее.

7
00:00:33,760 --> 00:00:41,040
Так как же вы делитесь кодом внутри команды, особенно когда многие из вас работают

8
00:00:41,040 --> 00:00:44,120
с одними и теми же файлами и вносят изменения в один и тот же файл?

9
00:00:44,120 --> 00:00:46,240
Как это вообще работает?

10
00:00:46,240 --> 00:00:50,160
Это работает так, что код размещён централизованно в интернете.

11
00:00:50,160 --> 00:00:55,760
Так что вы все можете к нему обращаться, и место, где живёт код, называется репозиторием.

12
00:00:55,760 --> 00:01:00,880
Но вы не редактируете файл в режиме реального времени в удалённом репозитории, как в Google

13
00:01:00,880 --> 00:01:07,640
Docs с одновременным редактированием, например, к тому же вам нужен код локально, чтобы запустить приложение,

14
00:01:07,640 --> 00:01:09,680
разрабатывать что-то и так далее.

15
00:01:09,680 --> 00:01:16,040
Поэтому вы забираете этот код из удалённого репозитория на свою локальную машину, вносите изменения и

16
00:01:16,040 --> 00:01:19,200
затем отправляете эти изменения обратно в репозиторий.

17
00:01:19,200 --> 00:01:25,720
Чтобы следующий разработчик мог забрать его на свой компьютер и внести свои изменения.

18
00:01:25,720 --> 00:01:34,440
То есть все разработчики просто пушат и тянут изменения в этот репозиторий и из него.

19
00:01:34,440 --> 00:01:39,640
Что происходит, когда вы и, например, Эмили меняете одни и те же файлы?

20
00:01:39,640 --> 00:01:44,600
Git умеет сливать большинство изменений в одних и тех же файлах.

21
00:01:44,600 --> 00:01:50,960
Поэтому когда вы забираете код с изменениями в тех же файлах, что вы меняли локально,

22
00:01:50,960 --> 00:01:57,040
он поможет вам слить эти изменения, прежде чем вы отправите свои в репозиторий.

23
00:01:57,040 --> 00:02:04,720
Но что если вы редактируете файлы несколько дней, а в это же время Эмили меняет те же файлы

24
00:02:04,720 --> 00:02:07,480
в совершенно другом направлении, да?

25
00:02:07,480 --> 00:02:13,320
Тогда изменения будут настолько разными, что Git не сможет разобраться, верно?

26
00:02:13,320 --> 00:02:19,960
Возможно, изменены точно те же места в файле.

27
00:02:19,960 --> 00:02:24,800
И Git не знает, хотите ли вы свои изменения или изменения Эмили, так?

28
00:02:24,800 --> 00:02:27,520
Это называется конфликтом.

29
00:02:27,520 --> 00:02:33,440
И в таком случае вам придётся поговорить с Эмили и вручную разобраться, каким должен быть итог

30
00:02:33,440 --> 00:02:35,000
результат.

31
00:02:35,000 --> 00:02:40,360
То есть обсудить, что ты здесь поменяла, как можно поправить код, чтобы оба

32
00:02:40,360 --> 00:02:42,800
наших изменения имели смысл.

33
00:02:42,800 --> 00:02:44,980
И это звучит утомительно.

34
00:02:44,980 --> 00:02:52,220
Поэтому лучшая практика в разработке, когда работаешь в большой команде

35
00:02:52,220 --> 00:02:57,900
над одним и тем же кодом, — часто отправлять и забирать изменения из

36
00:02:57,900 --> 00:02:58,900
репозитория.

37
00:02:58,900 --> 00:03:04,060
Чтобы Git не приходилось сливать огромные изменения с большим пересечением.

38
00:03:04,060 --> 00:03:09,420
И вы сможете проще разрулить разные изменения.

39
00:03:09,420 --> 00:03:13,020
Это называется непрерывной интеграцией.

40
00:03:13,020 --> 00:03:18,420
Просто частая интеграция своих изменений в репозитории.

41
00:03:18,420 --> 00:03:24,100
А что если кто-то испортит код и изменения сломают приложение?

42
00:03:24,100 --> 00:03:29,620
Например, у вас новый джуниор, и он случайно закоммитил изменения,

43
00:03:29,620 --> 00:03:34,820
которые не компилируются, и вы не можете запустить приложение.

44
00:03:34,820 --> 00:03:39,140
Ничего не работает и не запускается, все заблокированы.

45
00:03:39,140 --> 00:03:45,140
Во-первых, когда кто-то пушит свои ломающие изменения в репозиторий, эти

46
00:03:45,140 --> 00:03:47,700
ломающие изменения — можно так официально сказать.

47
00:03:47,700 --> 00:03:53,060
Это не затрагивает вас, пока вы не стянете эти изменения из удалённого репозитория.

48
00:03:53,060 --> 00:03:58,180
Потому что вы работаете со своей локальной копией репозитория.

49
00:03:58,180 --> 00:04:03,420
Но как только вы подтягиваете эти изменения, ломающее изменение появляется и у вас.

50
00:04:03,420 --> 00:04:05,460
Но паниковать не нужно.

51
00:04:05,460 --> 00:04:10,820
Система контроля версий хранит историю изменений репозитория.

52
00:04:10,820 --> 00:04:16,460
Поэтому каждое изменение кода в каждом файле отслеживается в Git.

53
00:04:16,460 --> 00:04:21,100
Так что каждый коммит изменений от разработчика — это новый пункт истории.

54
00:04:21,100 --> 00:04:26,100
И хорошо то, что вы можете откатить коммиты или просто вернуться к

55
00:04:26,100 --> 00:04:29,700
предыдущей версии репозитория в любой момент.

56
00:04:29,700 --> 00:04:32,940
Отсюда и название — контроль версий.

57
00:04:32,940 --> 00:04:37,740
По мере развития кода вам не нужно беспокоиться о потере информации о том, какие изменения

58
00:04:37,740 --> 00:04:40,700
произошли с конкретными файлами.

59
00:04:40,700 --> 00:04:44,740
Каждое изменение также помечается сообщениями коммитов.

60
00:04:44,740 --> 00:04:52,780
Так что вы знаете, почему вы или кто-то другой внесли эти изменения, для будущей ссылки.

61
00:04:52,780 --> 00:04:57,500
Что естественным образом означает, что ваши коммиты не должны быть слишком большими.

62
00:04:57,500 --> 00:05:00,580
Чтобы их было легко откатить, прежде всего.

63
00:05:00,580 --> 00:05:03,860
И их можно было легко описать сообщением коммита.

