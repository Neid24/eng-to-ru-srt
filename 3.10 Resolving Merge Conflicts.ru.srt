1
00:00:00,000 --> 00:00:06,680
Так что на этот раз давайте реально зайдем в редактор локально.

2
00:00:06,680 --> 00:00:15,360
Давайте зайдем в server.js, и я что-то здесь поменяю, ладно?

3
00:00:15,360 --> 00:00:17,920
Теперь у меня есть локальное изменение.

4
00:00:17,920 --> 00:00:29,320
Значит, я могу добавить эти изменения.

5
00:00:29,320 --> 00:00:33,840
Я закоммитил изменения локально, теперь перейдем к удаленному.

6
00:00:33,840 --> 00:00:41,320
И сейчас я отредактирую ту же строку, что и локально, прямо здесь, хорошо?

7
00:00:41,320 --> 00:00:43,600
Так что мои локальные изменения всё ещё есть.

8
00:00:43,600 --> 00:00:49,280
То есть я могу делать изменения параллельно, скажем, на удалёнке.

9
00:00:49,280 --> 00:00:55,200
Я отредактировал точно ту же строку, то же место в коде, что и локально.

10
00:00:55,200 --> 00:01:00,560
И это вполне реалистично: два разработчика или даже три разработчика могут действительно

11
00:01:00,560 --> 00:01:07,320
менять код в одном и том же месте, в одном и том же файле параллельно, не зная об этом.

12
00:01:07,320 --> 00:01:10,840
И это, конечно, вызовет конфликты слияния, верно?

13
00:01:10,840 --> 00:01:13,320
У меня есть изменения на удалёнке.

14
00:01:13,320 --> 00:01:21,480
Так что прежде чем я смогу запушить локальные изменения, мне нужно сначала получить то изменение.

15
00:01:21,480 --> 00:01:26,080
Теперь, если я делаю git push, снова вижу, что есть какие-то локальные изменения.

16
00:01:26,080 --> 00:01:28,960
Так что мой push был отклонён.

17
00:01:28,960 --> 00:01:39,800
А если я делаю git pull --rebase, вот вы видите, что я получил конфликт, git pull --rebase.

18
00:01:39,800 --> 00:01:41,080
Вот вся информация.

19
00:01:41,080 --> 00:01:46,400
И где-то здесь мы видим конфликт, конфликт слияния в server.js.

20
00:01:46,400 --> 00:01:53,080
Произошло то, что слияние было невозможно, потому что git не знает, какую версию

21
00:01:53,080 --> 00:01:55,720
этих двух изменений вы хотите взять, верно?

22
00:01:55,720 --> 00:01:57,600
Обе могут быть корректными.

23
00:01:57,600 --> 00:02:01,020
Он не может автоматически выбрать одно или другое.

24
00:02:01,020 --> 00:02:09,480
Поэтому вам нужно вручную решить, какое изменение оставить, а какое убрать.

25
00:02:09,480 --> 00:02:12,880
Сначала посмотрим, как этот конфликт выглядит в редакторе.

26
00:02:12,880 --> 00:02:16,960
Здесь вы также видите, что вы в другом состоянии или другом режиме во время rebase,

27
00:02:16,960 --> 00:02:19,080
но он не завершён.

28
00:02:19,080 --> 00:02:24,520
Если я вернусь в редактор, вы видите, мой конфликт здесь подсвечен.

29
00:02:24,520 --> 00:02:28,960
Есть разные редакторы и командные строки, с помощью которых это можно легко сделать.

30
00:02:28,960 --> 00:02:33,960
Можно делать это в git-клиентах с UI, можно в командной строке, а можно

31
00:02:33,960 --> 00:02:37,160
делать прямо в редакторе, например IntelliJ.

32
00:02:37,160 --> 00:02:42,600
Я предпочитаю так, потому что есть хорошая визуализация конфликта.

33
00:02:42,600 --> 00:02:54,200
Итак, что я делаю: в Git Resolve Conflicts вы видите представление: это локальные изменения,

34
00:02:54,200 --> 00:02:56,520
а это изменения на удалёнке.

35
00:02:56,520 --> 00:02:58,440
А это конечный результат.

36
00:02:58,440 --> 00:03:03,920
То есть вам нужно решить, как будет выглядеть конечный результат.

37
00:03:03,920 --> 00:03:08,400
Обычно это выглядит так: допустим, это от разработчика Эмили, а это

38
00:03:08,400 --> 00:03:11,120
ваши изменения кода.

39
00:03:11,120 --> 00:03:15,680
Поэтому вы идёте к Эмили и спрашиваете: эй, у нас здесь конфликт, можем

40
00:03:15,680 --> 00:03:17,440
посмотреть, что произошло?

41
00:03:17,440 --> 00:03:22,800
Почему ты изменила код именно так? Объясни, зачем ты сделала эти изменения.

42
00:03:22,800 --> 00:03:27,720
И в какой-то момент вы о чём-то договариваетесь и решаете: знаешь, изменения Эмили

43
00:03:27,720 --> 00:03:33,400
были правильными, или, может быть, нужно слить оба наших изменения, верно?

44
00:03:33,400 --> 00:03:40,460
Тогда можно подтянуть вот это, то есть и для удалёнки, и локально.

45
00:03:40,460 --> 00:03:43,700
Теперь тут есть оба ваших изменения.

46
00:03:43,700 --> 00:03:46,860
Давайте это уберём.

47
00:03:46,860 --> 00:03:49,100
И это будет конечный продукт.

48
00:03:49,100 --> 00:03:53,100
Вы с Эмили согласились: знаешь, оба наших изменения имеют смысл.

49
00:03:53,100 --> 00:03:57,820
Давайте добавим их вместе и сольём вот так.

50
00:03:57,820 --> 00:04:00,820
И когда закончите, сохраните.

51
00:04:00,820 --> 00:04:07,620
И если вы вернетесь в редактор и выполните git status, теперь git скажет, в каком состоянии вы находитесь.

52
00:04:07,620 --> 00:04:11,940
И здесь видно, что когда вы закончите исправлять все конфликты, это может быть больше файлов, чем

53
00:04:11,940 --> 00:04:18,900
просто один в реальном случае, это могут быть несколько файлов, которые все были изменены.

54
00:04:18,900 --> 00:04:23,740
И когда вы с этим закончите, вы можете выполнить git rebase continue.

55
00:04:23,740 --> 00:04:28,900
Это тоже очень полезно, потому что во всех этих ситуациях

56
00:04:28,900 --> 00:04:34,540
вы всегда можете набрать git status, и git скажет, в каком вы состоянии, каково ваше текущее

57
00:04:34,540 --> 00:04:41,380
состояние, и он также подсказывает, что делать дальше на основе вашего состояния, верно?

58
00:04:41,380 --> 00:04:43,420
Так что вы можете на это опираться.

59
00:04:43,420 --> 00:04:46,500
Итак, я собираюсь выполнить git rebase continue.

60
00:04:46,500 --> 00:04:51,180
И здесь вы видите, это мой коммит, и сейчас я в другом режиме.

61
00:04:51,180 --> 00:05:03,260
Теперь я действительно могу запушить свое изменение на удаленный репозиторий, и удаленный обновится.

62
00:05:03,260 --> 00:05:13,620
И здесь, если я вернусь к файлам и серверу, я вижу и удаленно, и локально.

63
00:05:13,620 --> 00:05:15,620
Так что это разрешенный конфликт.

