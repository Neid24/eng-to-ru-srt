1
00:00:00,000 --> 00:00:14,640
Еще одна интересная концепция в Git — история или журнал коммитов.

2
00:00:14,640 --> 00:00:18,200
Итак, у меня есть несколько коммитов, которые я сделал в этой ветке.

3
00:00:18,200 --> 00:00:21,160
То есть у меня есть история моих действий.

4
00:00:21,160 --> 00:00:28,440
Теперь, как вы видите, у каждого коммита есть уникальный хеш, который идентифицирует конкретный

5
00:00:28,440 --> 00:00:30,320
коммит.

6
00:00:30,320 --> 00:00:36,800
И есть случаи, когда этот хеш коммита, уникальный хеш, действительно очень полезен.

7
00:00:36,800 --> 00:00:45,400
Допустим, у нас есть ошибка в коде, которую мы пытаемся понять или отладить,

8
00:00:45,400 --> 00:00:47,040
как эта ошибка возникла.

9
00:00:47,040 --> 00:00:50,520
Мы не знаем, какое изменение кода фактически вызвало эту ошибку.

10
00:00:50,520 --> 00:00:55,120
Это может быть что-то сложное, так что мы не знаем, как воспроизвести или выяснить

11
00:00:55,120 --> 00:00:57,200
причину или проблему.

12
00:00:57,200 --> 00:01:01,000
Поэтому мы проводим тестирование.

13
00:01:01,000 --> 00:01:07,760
И допустим, тестировщик замечает, что после изменений этого коммита, то есть с этого

14
00:01:07,760 --> 00:01:14,720
коммита или с этой даты, появилась ошибка и что-то не работает.

15
00:01:14,720 --> 00:01:20,480
Что мы можем сделать: чтобы воспроизвести проблему, мы можем буквально вернуться назад

16
00:01:20,480 --> 00:01:25,080
и выполнить checkout коммита, используя этот хеш.

17
00:01:25,080 --> 00:01:32,320
А checkout коммита означает, что мы возвращаемся к версии всего приложения,

18
00:01:32,320 --> 00:01:37,520
то есть всего кода на момент этого коммита.

19
00:01:37,520 --> 00:01:48,000
Поэтому если я скопирую это и выполню git checkout <хеш коммита>, у меня есть локальные изменения, так что он не

20
00:01:48,000 --> 00:01:51,880
позволяет переключиться на другой коммит.

21
00:01:51,880 --> 00:01:58,960
Давайте сделаем stash и попробуем checkout снова.

22
00:01:58,960 --> 00:02:03,020
И здесь вы видите, что я в состоянии detached HEAD.

23
00:02:03,020 --> 00:02:10,480
Это означает, что это просто информация, говорящая, что я не в самом актуальном

24
00:02:10,480 --> 00:02:13,120
состоянии ветки.

25
00:02:13,120 --> 00:02:18,240
Я нахожусь в одном из предыдущих состояний, на конкретном хеше коммита.

26
00:02:18,240 --> 00:02:25,480
И что интересно, я могу создать новую ветку на основе версии кода,

27
00:02:25,480 --> 00:02:29,040
которая была у меня в этот момент времени.

28
00:02:29,040 --> 00:02:35,920
Если я вернусь в редактор, я увижу, что все приложение перестраивается, возможно некоторые

29
00:02:35,920 --> 00:02:42,440
удаленные файлы возвращаются, возможно, текущие файлы откатываются, поэтому они не отображаются

30
00:02:42,440 --> 00:02:43,800
в приложении.

31
00:02:43,800 --> 00:02:50,760
То есть я возвращаюсь к состоянию кода приложения, которое было на момент этого коммита.

32
00:02:50,760 --> 00:02:55,280
Если это было два месяца назад, то я возвращаюсь к версии кода двухмесячной давности.

33
00:02:55,280 --> 00:03:01,480
И теперь у меня есть версия кода, которую я могу использовать, чтобы воспроизвести ошибку, которая, возможно, произошла

34
00:03:01,480 --> 00:03:02,720
какое-то время назад.

35
00:03:02,720 --> 00:03:09,220
Вы также видите, что я больше не на имени ветки, а на хеше коммита.

36
00:03:09,220 --> 00:03:15,260
И, как я сказал, вы можете внести изменения из этой версии приложения и создать

37
00:03:15,260 --> 00:03:17,380
ветку на основе этого.

38
00:03:17,380 --> 00:03:24,220
Но это не очень распространенный сценарий — вносить изменения в какое-то предыдущее

39
00:03:24,220 --> 00:03:26,100
состояние приложения.

40
00:03:26,100 --> 00:03:33,220
Поэтому чаще всего это используется для тестирования или для воспроизведения ошибки, которая, возможно, была сообщена

41
00:03:33,220 --> 00:03:34,900
какое-то время назад.

42
00:03:34,900 --> 00:03:41,100
И теперь, если я хочу вернуться к актуальному состоянию ветки, я просто делаю git

43
00:03:41,100 --> 00:03:44,780
checkout имени ветки.

44
00:03:44,780 --> 00:03:46,880
И я на позиции HEAD.

45
00:03:46,880 --> 00:03:52,980
HEAD в Git в основном означает верхний коммит, то есть последнее состояние коммита в ветке.

