1
00:00:00,000 --> 00:00:09,580
Еще одна команда git — git merge, которую мы можем рассмотреть в этой части.

2
00:00:09,580 --> 00:00:17,580
Допустим, у вас есть ветка bugfix, которая открыта уже несколько дней, и

3
00:00:17,580 --> 00:00:20,420
в master было влито много всего.

4
00:00:20,420 --> 00:00:25,500
Так что ваша ветка bugfix сильно отстает от изменений в master.

5
00:00:25,500 --> 00:00:33,220
И допустим, вам нужны изменения из других веток, от других разработчиков,

6
00:00:33,220 --> 00:00:37,500
чтобы протестировать ваш bugfix в этой ветке.

7
00:00:37,500 --> 00:00:44,140
Это значит, что до того как вы закончите исправлять баг здесь, вы хотите

8
00:00:44,140 --> 00:00:48,680
влить изменения из master в свою ветку.

9
00:00:48,680 --> 00:00:55,120
То есть вы хотите подтянуть изменения из master в ветку bugfix.

10
00:00:55,120 --> 00:01:00,940
Сделать это можно так: сначала убедитесь, что ваш локальный master

11
00:01:00,940 --> 00:01:01,940
актуален.

12
00:01:01,940 --> 00:01:04,300
Значит, подтягиваем все изменения.

13
00:01:04,300 --> 00:01:09,900
Скажем, в master влили две-три другие ветки, и теперь мы пытаемся

14
00:01:09,900 --> 00:01:13,620
влить это в наш bugfix, верно?

15
00:01:13,620 --> 00:01:16,980
Теперь вернемся в нашу ветку.

16
00:01:16,980 --> 00:01:23,140
Способ подтянуть изменения из master в ветке bugfix — использовать git merge.

17
00:01:23,140 --> 00:01:29,320
Для git merge нам нужен параметр — источник, откуда мы берем

18
00:01:29,320 --> 00:01:31,280
изменения кода.

19
00:01:31,280 --> 00:01:39,480
Это возьмет изменения из ветки master и сольет их в нашу ветку bugfix.

20
00:01:39,480 --> 00:01:44,400
Создастся новый коммит с merge branch master into bugfix.

21
00:01:44,400 --> 00:01:57,100
И если я сделаю git log, вы увидите, что коммит revert test из master теперь в нашей ветке.

22
00:01:57,100 --> 00:02:04,020
Допустим, я запушу этот merge в удаленную ветку bugfix.

23
00:02:04,020 --> 00:02:11,220
Проверю свои изменения, все работает отлично, баг исправлен.

24
00:02:11,220 --> 00:02:16,560
Теперь я могу создать pull request, который можно влить в master.

25
00:02:16,560 --> 00:02:20,920
И здесь видно, что есть ряд коммитов, отличных от ветки master,

26
00:02:20,920 --> 00:02:21,920
ветки.

27
00:02:21,920 --> 00:02:26,240
Отсюда можно создать merge request.

28
00:02:26,240 --> 00:02:32,880
Мы удалим исходную ветку, когда merge request примут.

29
00:02:32,880 --> 00:02:38,440
Допустим, кто-то проверит ваш код в ветке bugfix, и все выглядит нормально.

30
00:02:38,440 --> 00:02:43,780
И в этом случае мы одобряем pull request или merge request.

31
00:02:43,780 --> 00:02:51,100
И мы делаем git merge, который я здесь сделал или показал, через интерфейс GitLab.

32
00:02:51,100 --> 00:02:56,060
То есть это та же команда, что мы выполняли в командной строке.

33
00:02:56,060 --> 00:03:05,580
Таким merge мы сливаем ветку bugfix обратно в master.

34
00:03:05,580 --> 00:03:10,000
Как видели, это можно сделать либо из UI, либо из командной строки.

35
00:03:10,000 --> 00:03:14,040
И вы можете слить любую ветку в любую другую.

36
00:03:14,040 --> 00:03:19,440
Но обычный, стандартный случай — либо вы вливаете ветку master

37
00:03:19,440 --> 00:03:24,680
в свою feature- или bugfix-ветку, потому что она слишком долго открыта

38
00:03:24,680 --> 00:03:31,120
и нужны актуальные изменения, потому что она сильно разошлась, или вы

39
00:03:31,120 --> 00:03:35,320
закончили реализовывать фичу или исправлять баг и теперь вливаете

40
00:03:35,320 --> 00:03:37,500
ее обратно в ветку master.

41
00:03:37,500 --> 00:03:42,820
Так что это два случая, когда нужна команда merge.

42
00:03:42,820 --> 00:03:50,180
Если вернуться в репозиторий, у нас одна ветка master, и все слито.

43
00:03:50,180 --> 00:03:56,300
У нас есть git ignore, игнорируемые папки тоже исчезли, и все изменения из той

44
00:03:56,300 --> 00:03:58,140
ветки bugfix здесь.

