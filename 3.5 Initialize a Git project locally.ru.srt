1
00:00:00,000 --> 00:00:06,960
Теперь, что если у вас уже есть код локально?

2
00:00:06,960 --> 00:00:12,080
Предположим, вы создали некоторый шаблонный код и хотите подтянуть его в репозиторий

3
00:00:12,080 --> 00:00:15,160
вместо того, чтобы клонировать существующий.

4
00:00:15,160 --> 00:00:22,440
В таком случае вы можете создать локальный репозиторий в своем коде и затем отправить этот локальный репозиторий

5
00:00:22,440 --> 00:00:24,000
на удаленный.

6
00:00:24,000 --> 00:00:29,880
И это вполне законный сценарий, особенно когда вы начинаете работать с кодом,

7
00:00:30,880 --> 00:00:34,960
разрабатываете что-то на своей машине, особенно если это частный проект.

8
00:00:34,960 --> 00:00:42,400
И в какой-то момент вы решаете разместить его на GitLab или GitHub или в другом Git-репозитории.

9
00:00:42,400 --> 00:00:50,160
Так что теперь вам нужно перенести существующий код с локальной машины, например, на GitLab.

10
00:00:50,160 --> 00:00:53,480
Давайте посмотрим, как это работает в таком случае.

11
00:00:53,480 --> 00:00:57,640
У меня есть локальный проект, который не является Git-репозиторием, верно?

12
00:00:57,640 --> 00:01:02,240
У меня там есть некоторые файлы, есть код приложения и так далее.

13
00:01:02,240 --> 00:01:09,840
И если я сделаю Git status здесь, вы видите: не является Git-репозиторием или любой из родительских директорий.

14
00:01:09,840 --> 00:01:16,000
Это значит, что в этом проекте нет папки .git, того, что содержит информацию об удаленном Git-репозитории,

15
00:01:16,000 --> 00:01:23,600
о моем Git-пользователе, email и так далее.

16
00:01:23,600 --> 00:01:26,120
Поэтому нам нужно преобразовать этот проект, этот Node.js‑проект, в локальный Git-репозиторий.

17
00:01:26,120 --> 00:01:33,800
И делаем мы это с помощью Git init.

18
00:01:33,800 --> 00:01:37,440
И тут видно: инициализирован пустой Git-репозиторий, и если я посмотрю, вижу, что .git создан.

19
00:01:37,440 --> 00:01:48,120
Теперь, если я сделаю Git status, здесь куча файлов, которые я могу закоммитить.

20
00:01:48,120 --> 00:01:56,080
И затем отправить в удаленный репозиторий.

21
00:01:56,360 --> 00:02:02,600
Так что могу сделать git add ., это добавит все файлы, которые были выделены красным.

22
00:02:02,600 --> 00:02:10,080
Вот весь список, и давайте закоммитим и скажем, что это исходный код, да?

23
00:02:10,080 --> 00:02:18,400
Давайте снова очистим экран, и Git status покажет, что нечего коммитить.

24
00:02:18,400 --> 00:02:24,000
У нас нет изменений, однако у нас есть локальный коммит с исходным кодом.

25
00:02:24,000 --> 00:02:32,520
И еще одно изменение, которое вы, вероятно, тоже заметили: в момент, когда мы превратили его

26
00:02:32,520 --> 00:02:37,640
в Git-репозиторий, была создана и добавлена сюда ветка по умолчанию master,

27
00:02:37,640 --> 00:02:44,280
и мы видим это в командной строке тоже.

28
00:02:44,280 --> 00:02:48,240
Теперь у нас есть локальный Git-репозиторий, но он ничего не знает об удаленном репозитории.

29
00:02:48,240 --> 00:02:55,160
Так что если я сделаю git push, он говорит: нет конфигурации пункта назначения push.

30
00:02:55,160 --> 00:03:02,160
То есть он не знает, куда отправлять этот код, он не подключен ни к какому удаленному репозиторию.

31
00:03:02,160 --> 00:03:09,960
Что мы можем сделать в этом случае — вернуться в наш GitLab и создать новый пустой проект

32
00:03:09,960 --> 00:03:17,280
и назвать его, скажем, какой-нибудь test node app, оставить его приватным.

33
00:03:17,280 --> 00:03:22,800
Теперь мой локальный Git-репозиторий и этот удаленный репозиторий ничего не знают друг о друге,

34
00:03:22,800 --> 00:03:28,600
поэтому нам нужно их подключить.

35
00:03:28,600 --> 00:03:32,300
И способ сделать это также описан здесь этой командой.

36
00:03:32,300 --> 00:03:37,600
Так что git remote, мы уже сделали git init, и git remote add origin, адрес

37
00:03:37,600 --> 00:03:44,960
репозитория.

38
00:03:44,960 --> 00:03:46,520
И если я вернусь сюда, по сути у меня есть такое же предложение, написанное здесь.

39
00:03:46,520 --> 00:03:50,360
Так что это очень описательно, и они дают очень хорошие инструкции, как делать вещи.

40
00:03:50,360 --> 00:03:55,240
Я просто скопирую эту команду, потому что в ней уже есть имя нашего удаленного репозитория,

41
00:03:55,240 --> 00:04:01,920
конечная точка удаленного репозитория в команде, и я вставлю ее сюда.

42
00:04:01,920 --> 00:04:07,640
То есть это по сути говорит моему локальному Git-репозиторию, куда отправлять изменения.

43
00:04:07,640 --> 00:04:15,600
То есть сообщает, какой удаленный репозиторий должен быть у этого локального репозитория.

44
00:04:15,600 --> 00:04:20,800
И origin — это имя назначения, а это URL назначения.

45
00:04:20,800 --> 00:04:29,080
И теперь, если мы делаем push, мы видим другую ошибку: теперь он знает, где находится удаленный

46
00:04:29,080 --> 00:04:38,520
репозиторий и как к нему подключиться, однако теперь он не может привязать ветку, верно?

47
00:04:38,520 --> 00:04:45,760
Говорит: текущая ветка master не имеет upstream-ветки.

48
00:04:45,760 --> 00:04:50,840
Это означает, что теперь репозитории подключены, удаленный репозиторий подключен,

49
00:04:50,840 --> 00:04:57,080
теперь нам нужно соединить ветки.

50
00:04:57,080 --> 00:04:59,840


51
00:04:59,840 --> 00:05:07,200
Теперь нужно указать, что локальная ветка master должна подключаться к ветке master на удаленном

52
00:05:07,200 --> 00:05:08,720
репозитории.

53
00:05:08,720 --> 00:05:12,120
Поэтому нам нужно отправить ветку тоже.

54
00:05:12,120 --> 00:05:20,920
Поэтому если я выполню git push set upstream origin master, здесь видно, что ветка master настроена на отслеживание

55
00:05:20,920 --> 00:05:24,000
удаленной ветки master из origin.

56
00:05:24,000 --> 00:05:32,640
Теперь они связаны, и если я обновлю это здесь, увижу весь свой код в удаленном

57
00:05:32,640 --> 00:05:35,840
репозитории.

58
00:05:35,840 --> 00:05:42,080
И заметьте, что эти изменения, которые я только что сделал здесь, git remote at origin и настройка этого

59
00:05:42,080 --> 00:05:50,680
апстрима моей ветки master, эта информация фактически была добавлена в эту папку .git.

60
00:05:50,680 --> 00:05:54,400
Именно здесь все это конфигурируется.

61
00:05:54,400 --> 00:05:58,440
И она хранит информацию о том, как подключаться к удаленному, где находится удаленный,

62
00:05:58,440 --> 00:06:02,220
какой конечный адрес и как ветки вообще соединяются друг с другом.

63
00:06:02,220 --> 00:06:11,860
Если я удалю эту папку .git, то мой проект больше не будет git-репозиторием.

64
00:06:11,860 --> 00:06:18,320
И мне придется снова подключить или переподключить локальный репозиторий к удаленному.

65
00:06:18,320 --> 00:06:24,640
То есть в ней есть, по сути, все, что нужно для этой связи между удаленным и локальным

66
00:06:24,640 --> 00:06:25,640
репозиториями.

67
00:06:25,640 --> 00:06:29,820
Поэтому если я решу, что больше не хочу хостить этот проект, хочу удалить его

68
00:06:29,820 --> 00:06:36,320
отсюда, но также хочу удалить любую git-конфигурацию, я по сути могу просто

69
00:06:36,320 --> 00:06:39,920
удалить эту папку, и на этом все.

70
00:06:39,920 --> 00:06:47,160
Так что если я уберу это, видите, имя ветки здесь больше не отображается.

71
00:06:47,160 --> 00:06:50,560
Если введу status — это уже не git-репозиторий.

72
00:06:50,560 --> 00:06:55,140
То есть связь с удаленным репозиторием потеряна.

