1
00:00:00,000 --> 00:00:10,360
Теперь давайте рассмотрим другой случай, когда мы работаем в ветке, скажем, в нашей

2
00:00:10,360 --> 00:00:30,960
ветке bugfix, и мы здесь вносим некоторые изменения, давайте снова возьмем readme. Итак, так

3
00:00:30,960 --> 00:00:36,680
мы вносим изменение в readme. И допустим, другой разработчик тоже работает в той же

4
00:00:36,680 --> 00:00:43,080
ветке вместе с нами, верно? Значит, он вносит некоторые изменения в ту же ветку. Давайте

5
00:00:43,080 --> 00:00:53,080
перейдем к ветке здесь. Итак, я перейду, возможно, в app и server.js и изменю кое-что

6
00:00:53,080 --> 00:01:09,440
здесь, отредактирую. И, возможно, я хочу другой лог, запись журнала для тестирования. И я могу закоммитить эти

7
00:01:09,440 --> 00:01:16,920
изменения в ветку. Итак, теперь что произошло: мой локальный репозиторий не знает о

8
00:01:16,920 --> 00:01:24,400
этих изменениях. И репозиторий или локальный репозиторий другого разработчика не знает о моих

9
00:01:24,400 --> 00:01:33,800
изменениях. Так что теперь произойдет, если я хочу добавить и закоммитить свое изменение и запушить его, скорректировал

10
00:01:33,800 --> 00:01:45,680
что-то снова. Верно. Итак, что происходит, давайте проясним это. Что будет, если я сделаю push?

11
00:01:45,680 --> 00:01:50,280
Видите, говорится, что вы не можете запушить свои изменения, потому что есть некоторые другие изменения,

12
00:01:50,280 --> 00:01:57,560
которые уже были запушены в удаленную ветку. Так что сначала мне нужно сделать git pull, прежде чем я смогу

13
00:01:57,560 --> 00:02:07,560
запушить свои изменения. Итак, если я сделаю git pull, что происходит, так это то, что git pull по сути вытягивает

14
00:02:07,560 --> 00:02:15,040
изменения локально и создает новый коммит, что удаленная ветка была слита в мою

15
00:02:15,040 --> 00:02:23,600
локальную ветку, верно? Так что я могу сохранить это. И теперь, если я запушу, если я сделаю git push, я на самом деле

16
00:02:23,600 --> 00:02:31,200
пушу два коммита. Один был моим коммитом, а другой был этим merge-коммитом. Так что если я

17
00:02:31,200 --> 00:02:39,440
обновлю, и я в этой ветке bug fix, здесь я вижу adjusted something again. Итак, допустим

18
00:02:39,440 --> 00:02:46,880
это был другой пользователь, adjusted something again, и merge branch commit. Теперь еще одна

19
00:02:46,880 --> 00:02:53,480
лучшая практика с git заключается в том, что представьте, если вам придется делать это все время, скажем,

20
00:02:53,480 --> 00:02:58,520
вы сливаете что-то в master, и, очевидно, есть другие разработчики, которые

21
00:02:58,520 --> 00:03:05,400
внесли некоторые изменения. Так что вам нужно сначала вытянуть эти изменения. Поэтому это на самом деле довольно неудобно

22
00:03:05,400 --> 00:03:11,480
иметь все эти merge-коммиты в вашей истории, потому что все, что они представляют, по сути, это то,

23
00:03:11,480 --> 00:03:17,280
что вы вытянули изменения, прежде чем смогли их запушить, верно? И есть способ избежать этих

24
00:03:17,280 --> 00:03:22,120
merge branch commits каждый раз, когда мы получаем изменения из удаленной ветки. И способ

25
00:03:22,120 --> 00:03:33,040
сделать это — использовать git pull rebase. Так что вместо git pull мы делаем git pull rebase. Так что то,

26
00:03:33,040 --> 00:03:39,680
что это делает, по сути, вытягивает изменения из удаленной ветки. А затем складывает наши изменения

27
00:03:39,680 --> 00:03:46,440
или наш коммит поверх этого. Так что между ними нет merge branch commit. Так что мы можем

28
00:03:46,440 --> 00:03:54,640
увидеть это в действии снова, давайте сделаем наше знаменитое изменение в read me, бла-бла, не

29
00:03:54,640 --> 00:04:11,480
так уж важно. И перед тем как мы это запушим, мы вернемся к файлам. И давайте сохраним

30
00:04:11,480 --> 00:04:20,120
server js снова, для rebase. Итак, мы сначала закоммитим этот. Итак, теперь у удаленной ветки

31
00:04:20,120 --> 00:04:25,480
есть то, чего у нас нет локально. Так что нам нужно это вытянуть. Верно. Итак, снова,

32
00:04:25,480 --> 00:04:31,800
давайте попробуем сделать push. Говорится, нет, вы не можете это сделать, вам нужно сделать git pull. И вместо

33
00:04:31,800 --> 00:04:40,920
git pull мы собираемся сделать git pull rebase. Верно. Итак, видите, новый коммит не случился,

34
00:04:40,920 --> 00:04:48,280
merge-коммиты. И здесь мы видим, что наш собственный коммит, по сути, был сложен наверх. Так что

35
00:04:48,280 --> 00:04:54,520
если я сделаю git log, что является историей изменений, я вижу update server js с

36
00:04:54,520 --> 00:05:00,920
тем, что я только что сделал, как первый коммит. И поверх этого — это наш коммит.

37
00:05:00,920 --> 00:05:13,840
Так что теперь, если я сделаю git push и обновлю, здесь вы видите update server, это от разработчика

38
00:05:13,840 --> 00:05:20,480
один. И это мой коммит. Здесь нет merge branch commit. Так что вы можете избежать этих ненужных

39
00:05:20,480 --> 00:05:22,920
коммитов, фактически используя rebase.

